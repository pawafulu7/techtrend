# merge-and-update

作業ブランチの変更内容をmainブランチにマージし、Serena MCPメモリを更新する

## 実行手順

### 1. 現在のブランチと変更内容の確認
- 現在のブランチ名を確認
- git statusで変更内容を確認
- 変更ファイルの一覧を表示

### 2. 変更内容のコミット（未コミットの場合）
- 未コミットの変更がある場合は、適切なコミットメッセージでコミット
- コミットメッセージは変更内容に基づいて自動生成
- feat: 新機能
- fix: バグ修正
- refactor: リファクタリング
- docs: ドキュメント更新
- chore: その他の変更

### 3. mainブランチへのマージ
- mainブランチに切り替え
- 作業ブランチをマージ（Fast-forwardまたは通常のマージ）
- マージコンフリクトがある場合は報告

### 4. Serena MCPメモリの更新
以下のメモリを更新または作成：

#### 4.1 実装記録メモリの作成
- メモリ名: `{feature_name}_implementation_{YYYYMM}`
- 内容:
  - 実装概要
  - 問題の背景（あれば）
  - 実装内容の詳細
  - 変更されたファイル
  - 技術的決定事項
  - パフォーマンス影響
  - 今後の改善案

#### 4.2 最近の改善メモリの更新
- メモリ名: `techtrend_recent_improvements_{YYYYMM}`
- 既存のメモリがあれば読み込んで更新
- なければ新規作成
- 今回の実装内容を最新項目として追加

#### 4.3 プロジェクト概要の更新（必要に応じて）
- メモリ名: `techtrend_project_overview_{YYYYMM}`
- 大きな機能追加や構造変更があった場合に更新

#### 4.4 CLAUDE.mdの更新(必要に応じて)
- プロジェクト概要・機能等に変更があった場合に更新
- インフラ関連に変更があった場合にも操作方法含めて更新(DBやキャッシュ等)

### 5. 完了報告
- マージされたコミットハッシュ
- 更新/作成されたメモリファイル一覧
- 次のステップの提案（あれば）

## 注意事項
- mainブランチに直接作業している場合は、マージ処理をスキップ
- コンフリクトが発生した場合は、ユーザーに確認を求める
- Serenaメモリの更新は、実装の規模に応じて調整
- 小さな修正の場合は実装記録メモリの作成を省略可能

## 使用例
```
/run merge-and-update
```

実行すると、現在の作業内容を自動的に判断し、適切にmainブランチへマージしてSerenaメモリを更新します。