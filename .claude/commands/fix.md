# /fix - Worktree並行開発でのバグ修正

## 概要
バグ修正を**独立したworktree環境**で行います。他のタスクと並行して緊急修正が可能です。

## 実行手順

1. **Worktree環境を自動作成**
   - `./worktree.sh auto "{バグの説明}"` を実行
   - 自動的にブランチ名生成（fix/xxx-YYYYMMDD-HHMMSS）
   - 独立した修正環境作成

2. **作業ディレクトリに移動**
   - `cd ../techtrend-fix-xxx` で移動
   - mainブランチから分岐した清潔な環境

3. **バグ調査と修正**
   - 問題の原因を特定
   - 最小限の変更で修正
   - 関連ファイルの確認

4. **テスト実行**
   - `npm test` で既存テストが壊れていないか確認
   - 修正に対するテストケース追加
   - `npm run test:e2e` で統合テスト

5. **コミット**
   - `git add .`
   - `git commit -m "fix: {バグの内容}"`
   - 明確な修正内容を記載

6. **Pull Request作成**
   - `../techtrend/worktree.sh pr "fix: {バグ修正内容}"` を実行
   - 自動的にバグ修正用のPR説明を生成
   - 緊急度に応じてレビュー依頼

7. **クリーンアップ**
   - PRマージ後、`./worktree.sh cleanup fix-xxx` で環境削除

## 重要事項

- **緊急対応可能**: 他の開発作業を中断せずにバグ修正可能
- **影響範囲最小化**: 修正に必要な最小限の変更のみ
- **テスト必須**: バグ修正には必ずテストを追加
- **ホットフィックス対応**: 本番環境の緊急修正にも対応

## 使用例

```
ユーザー: /fix ログイン時にエラーが発生する問題を修正

実行内容:
1. ./worktree.sh auto "ログイン時のエラーを修正"
2. cd ../techtrend-fix-login-error-20250823-180000
3. エラー原因の調査
4. 修正実装
5. テストケース追加
6. git commit -m "fix: ログイン時のバリデーションエラーを修正"
7. ../techtrend/worktree.sh pr "fix: ログイン時のエラーを修正"
```

## バグ修正のベストプラクティス

1. **原因を完全に理解してから修正**
2. **最小限の変更で修正**
3. **回帰テストを必ず実行**
4. **修正に対するテストを追加**
5. **関連する箇所への影響を確認**

## 他のコマンドとの違い

- `/implement`: 新機能の実装
- `/fix`: **バグ修正**（このコマンド）
- `/improve`: パフォーマンス改善
- 全て独立したworktree環境で並行作業可能