# TechTrend プロジェクトステータス (2025年8月5日)

## 最新の変更

### 1. タグ生成問題の修正 ✅
- Gemini API応答形式の変更に対応
- タグが次行に出力される新形式をサポート
- 後方互換性を維持（旧形式も引き続きサポート）
- コミット: ee8c5a2

### 2. 要約生成機能の大幅改善 ✅
- 要約生成ボタンの処理を高品質化
- 記事タイプ別の詳細プロンプトを使用
- 詳細要約の文字数を大幅拡充（平均110文字 → 400-550文字）
- 既存の薄い要約（4件）を再生成済み

### 3. Claude Code統合機能の追加 ✅
- Claude Codeを使用した要約生成機能
- Gemini APIのRate Limit回避策として実装
- 品質比較ツールで評価可能
- コミット: e45539d

## 現在のプロジェクト状態

### アーキテクチャ
- **フロントエンド**: Next.js 14 (App Router)
- **バックエンド**: Next.js API Routes + Prisma
- **データベース**: SQLite (開発) / PostgreSQL (本番想定)
- **キャッシュ**: Redis (Upstash) - レート制限のみ使用
- **スケジューラー**: PM2 + Node.js
- **外部API**: Gemini API (要約生成)、各種RSSフィード

### 運用状況
- **収集ソース**: 7つ（Dev.to、Qiita、Zenn、はてな、Speaker Deck等）
- **更新頻度**: RSS系1時間ごと、スクレイピング系12時間ごと
- **品質フィルタ**: 各ソースごとに最適化済み
- **要約生成**: Gemini API（バッチ）+ Claude Code（補完）

### 技術的負債の状況
**改善された項目**:
- ✅ TODOコメントの削減（1件のみ）
- ✅ ログシステムの部分的改善
- ✅ エラーハンドリングの統一
- ✅ 要約生成の品質向上
- ✅ タグ生成の安定化

**残存課題**:
- ❌ パフォーマンス問題（N+1クエリ、キャッシュ未活用）
- ❌ テストカバレッジ不足（目標20%、実際は低い）
- ❌ 構造化ログの未導入（console.log多用）
- ❌ TypeScript strict mode未有効化

### 直近の優先事項

1. **パフォーマンス最適化** 🔴
   - Redisキャッシュの活用拡大
   - articles APIのN+1問題解決
   - 頻繁アクセスデータのキャッシュ化

2. **テスト基盤の強化** 🟡
   - ユニットテストの拡充
   - 統合テストの実装
   - E2Eテストの導入

3. **監視・運用改善** 🟢
   - 構造化ログの導入
   - メトリクス収集
   - エラートラッキング

## 次のアクション
1. パフォーマンス改善計画の具体化
2. テスト戦略の策定と実行
3. 運用ドキュメントの更新

## 技術的負債スコア
**6/10**（やや高い）- 着実に改善中だが、パフォーマンスとテストが課題