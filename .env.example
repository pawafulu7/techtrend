# --- Base ---
NODE_ENV=development
PORT=3000

# --- App URLs ---
# Production example: https://your-domain
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# --- Auth ---
# 32+ characters random string for production
NEXTAUTH_SECRET=replace-with-long-random-string

# OAuth providers (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_ID=
GITHUB_SECRET=

# --- Basic Auth (optional, to restrict public access) ---
# Enable to protect all routes with HTTP Basic Auth
BASIC_AUTH_ENABLED=false
BASIC_AUTH_USER=user
BASIC_AUTH_PASS=
# or alternatively set BASIC_PASSWORD instead of BASIC_AUTH_PASS

# --- Database (PostgreSQL via Prisma) ---
# For local dev you can point to Docker/Postgres; on Vercel use the Prisma URL from Storage
# Note: Migrations are automatically deployed during build process (vercel-build script)
POSTGRES_PASSWORD=postgres_dev_password
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/techtrend_dev
TEST_DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/techtrend_test
# For host-side tools (e2e setup/reset from host)
DATABASE_URL_HOST=postgresql://postgres:${POSTGRES_PASSWORD}@localhost:5432/techtrend_dev
TEST_DATABASE_URL_HOST=postgresql://postgres:${POSTGRES_PASSWORD}@localhost:5434/techtrend_test

# --- Redis ---
# Preferred: single URL (e.g., Upstash rediss://)
REDIS_URL=

# Fallback (if not using REDIS_URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# --- Email Verification ---
# Option 1: Gmail (recommended for development)
EMAIL_FROM=noreply@techtrend.example.com
GMAIL_USER=your-gmail@gmail.com
GMAIL_APP_PASSWORD=

# Option 2: Resend API (limited in free plan)
# RESEND_API_KEY=

# Option 3: Custom SMTP
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=
# SMTP_PASSWORD=

# --- AI Keys (optional) ---
GEMINI_API_KEY=

# --- Logging ---
# Log level: debug, info, warn, error, fatal (default: info in production, debug in development)
LOG_LEVEL=info

# --- Cron protection ---
# Token required to call /api/feeds/collect manually (Bearer or ?token=)
CRON_TOKEN=

# --- Feature flags (optional) ---
ENABLE_AUTH=true
ENABLE_CACHE=true
ENABLE_ANALYTICS=false
QUALITY_CHECK_ENABLED=false
QUALITY_MIN_SCORE=70
MAX_REGENERATION_ATTEMPTS=3

# Notes:
# - In production, set variables in Vercel Project Settings â†’ Environment Variables.
# - When using Vercel Postgres, copy the Prisma connection URL into DATABASE_URL.
# - When using Upstash, set REDIS_URL (rediss://...). Host/port/password are optional fallbacks.
